function eaelSnakeBugs(t){let{container:i,chainCount:s=30,entityCount:h=8,activeColor:e="",idleColor:a="",opacity:n=1,disappearAfter:o=0}=t,r=document.createElement("canvas");r.style.position="absolute",r.style.top="0",r.style.left="0",r.style.zIndex="999999",r.style.pointerEvents="none",r.style.opacity=n,r.style.transition="opacity 0.5s ease",i.style.position="relative",i.appendChild(r);let $=r.getContext("2d"),l,y,c,p,x,d,v=0,u=0,f=[],_,b=!0,m;function g(t,i){return Math.random()*(i-t)+t}function E(){l=i.clientWidth,y=i.clientHeight,r.width=l*devicePixelRatio,r.height=y*devicePixelRatio,r.style.width=`${l}px`,r.style.height=`${y}px`,$.setTransform(1,0,0,1,0,0),$.scale(devicePixelRatio,devicePixelRatio),c=l/2,p=y/2}function w(){r.style.opacity=0,m=setTimeout(()=>{r.parentNode&&i.removeChild(r),b=!1},500)}function C(){this.x=c,this.y=p,this.ax=0,this.ay=0,this.vx=0,this.vy=0,this.r=1}function k(t){this.branch=t.branch,this.i=t.i,this.x=t.x,this.y=t.y,this.vx=0,this.vy=0,this.radius=t.radius,this.attractor=t.attractor,this.damp=t.damp}function P(t){this.entities=[],this.chain=t.chain,this.avoiding=0;for(let i=0;i<h;i++){let s=new k({branch:this,i:i,x:c,y:p,radius:1+(h-i)/h*5,damp:.2,attractor:0===i?t.attractor:this.entities[i-1]});this.entities.push(s)}}function S(){this.branches=[],this.impulse=new C,this.branches.push(new P({chain:this,attractor:this.impulse}))}i.addEventListener("mouseleave",()=>{o>0&&b&&w()}),i.addEventListener("mousemove",function(t){o>0&&!b&&(clearTimeout(m),r.parentNode||i.appendChild(r),r.style.display="block",requestAnimationFrame(()=>{r.style.opacity=n}),b=!0);let s=r.getBoundingClientRect();x=t.clientX-s.left,d=t.clientY-s.top,v=1,clearTimeout(_),_=setTimeout(()=>v=0,150),o>0&&(clearTimeout(m),m=setTimeout(w,o))}),C.prototype.step=function(){if(this.x+=this.vx,this.y+=this.vy,(this.x+this.r>=l||this.x<=this.r)&&(this.vx=0,this.ax=0),(this.y+this.r>=y||this.y<=this.r)&&(this.vy=0,this.ay=0),this.x+this.r>=l&&(this.x=l-this.r),this.x<=this.r&&(this.x=this.r),this.y+this.r>=y&&(this.y=y-this.r),this.y<=this.r&&(this.y=this.r),v){let t=this.x-x,i=this.y-d,s=g(50,150),h=Math.atan2(i,t)-Math.PI/2;this.vx-=Math.cos(h)*s*.02,this.vy-=Math.sin(h)*s*.02;let e=this.x-x,a=this.y-d,n=Math.sqrt(e*e+a*a),o=Math.atan2(a,e);this.vx-=Math.cos(o)*n*.01,this.vy-=Math.sin(o)*n*.01}let r=g(0,1)*Math.PI,$=g(-.4,.4);this.ax+=Math.cos(r)*$,this.ay+=Math.sin(r)*$,this.vx+=this.ax,this.vy+=this.ay,this.ax*=Math.abs(this.ax)>2?.75:1,this.ay*=Math.abs(this.ay)>2?.75:1,this.vx*=Math.abs(this.vx)>1?.75:1,this.vy*=Math.abs(this.vy)>1?.75:1},k.prototype.step=function(){this.vx=(this.attractor.x-this.x)*this.damp,this.vy=(this.attractor.y-this.y)*this.damp,this.x+=this.vx,this.y+=this.vy,this.av=(Math.abs(this.vx)+Math.abs(this.vy))/2;let t=this.attractor.x-this.x,i=this.attractor.y-this.y;this.rot=Math.atan2(i,t)},P.prototype.step=function(){this.entities.forEach(t=>t.step())},P.prototype.draw=function(t){t.beginPath(),t.moveTo(this.entities[0].x,this.entities[0].y),this.entities.forEach((i,s)=>{s>0&&t.lineTo(i.x,i.y)}),t.strokeStyle=v?e||`hsla(120, 70%, 60%, ${.3*n})`:a||`hsla(200, 70%, 60%, ${.3*n})`,t.stroke(),this.entities.forEach(i=>{t.save(),t.translate(i.x,i.y),t.beginPath(),t.rotate(i.rot),t.fillStyle=v?e||`hsla(120, 70%, 60%, ${.5*n})`:a||`hsla(200, 70%, 60%, ${.5*n})`,t.fillRect(-i.radius,-i.radius,2*i.radius,2*i.radius),t.restore()})},S.prototype.step=function(){this.impulse.step(),this.branches.forEach(t=>{t.step(),t.draw($)})},E(),window.addEventListener("resize",E);for(let I=0;I<s;I++)f.push(new S);!function t(){requestAnimationFrame(t),$.globalCompositeOperation="destination-out",$.fillStyle="rgba(0, 0, 0, 1)",$.fillRect(0,0,l,y),$.globalCompositeOperation="lighter",b&&f.forEach(t=>t.step()),u++}(),o>0&&(m=setTimeout(w,o))}